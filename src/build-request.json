{
  "kind": "build_request",
  "title": "Fix Home page crash by ensuring ManualAuthProvider wraps the route tree",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-27",
      "text": "Fix the runtime error on initial load (Landing/Home route) where `useManualAuth` is called outside of `ManualAuthProvider` by wrapping the application route tree with `<ManualAuthProvider>` at a level that covers `RootLayout`, `AppLayout`, `AppHeader`, and all routed pages, without editing `frontend/src/main.tsx` (immutable).",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "proceed with the fix.",
          "Error : useManualAuth must be used within ManualAuthProvider",
          "Error appeares on 1st page",
          "Home"
        ]
      },
      "acceptanceCriteria": [
        "Loading the app at `/` no longer shows the error: \"useManualAuth must be used within ManualAuthProvider\".",
        "`LandingPage` renders successfully at `/` with header/footer visible.",
        "Visiting `/login`, `/admin`, and `/employer/candidates` does not trigger the provider error.",
        "No changes are made to `frontend/src/main.tsx` (provider is added in an editable file such as `frontend/src/App.tsx`)."
      ]
    }
  ],
  "constraints": [
    "Do not edit any frontend immutable paths, including `frontend/src/main.tsx` and the UI component library under `frontend/src/components/ui`.",
    "Use English for any user-facing text."
  ],
  "nonGoals": [
    "Do not change backend canister code or authentication logic beyond fixing the missing provider wiring.",
    "Do not redesign the login flow, role gating, or credential storage as part of this fix."
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}